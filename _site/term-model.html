<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Terms</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">

    <link href="/styles/style.css" rel="stylesheet">

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>

  <body>
<!--header to hold banner + top navigation area -->
  <div id = "logo-container">   
<img width="430" class="logo" alt="National Library of Medicine" src="/images/nih_nlmlogo_webheader.png " /></a>
</div>



<!-- // end header -->
 
    <div class="main-container">
      <div class = "left-nav">

<h4>Data Model</h4>
<ul>

  

  




<li><a href="/concept-model.html">&raquo;&nbsp;Concepts</a></li>
  
  
  



  

  
  
  




<li><a href="/descriptor-model.html">&raquo;&nbsp;Descriptors</a></li>
  
  
  



  

  
  
  




<li><a href="/entry-combinations-model.html">&raquo;&nbsp;Entry Combinations</a></li>
  
  
  

  



  
  
  



  
  
  




<li><a href="/term-model.html">&raquo;&nbsp;Terms</a></li>
  
  
  



  

  
  
  




<li><a href="/tree-number-model.html">&raquo;&nbsp;Tree Numbers</a></li>
  
  
  
<br/>
</ul>

<h4>REST Interface</h4>
<ul>

  

  



  
  
  



  

  
  
  



  
  
  



  

  
  
  



  
  
  

  




<li><a href="/rest-interface.html">&raquo;&nbsp;REST Interface Documentation</a></li>
  
  
  



  
  
  



  
  
  



  

  
  
  



  
  
  
<br/>
</ul>

<h4>Sample Queries</h4>
<ul>

  

  



  
  
  



  

  
  
  



  
  
  



  

  
  
  



  
  
  

  



  
  
  




<li><a href="/sample-queries.html">&raquo;&nbsp;Sample Queries</a></li>
  
  
  



  
  
  



  

  
  
  



  
  
  
<br/>
</ul>

</div>
    <div class = "content">
      <ul>
  <li>See <a href="https://github.com/HHS/mesh-rdf/issues/36">issue #36</a> for some questions that need resolving</li>
  <li>Also need an example for Term/Abbreviation; Term/SortVersion, and Term/EntryVersion - use T060555, which is a descendent of the <em>qualifier</em> Q000008, administration and dosage. (We’ll add a drawing for this under Qualifiers)</li>
</ul>

<h2 id="xml">XML</h2>

<p>```xml
<descriptorrecord descriptorclass="1"></descriptorrecord></p>
<descriptorui>D000001</descriptorui>
<descriptorname>
    <string>Calcimycin</string>
  </descriptorname>
<p>…</p>
<conceptlist>
    <concept preferredconceptyn="Y">
      <conceptui>M0000001</conceptui>
      <conceptname>
        <string>Calcimycin</string>
      </conceptname>
      ...
      <termlist>
        <term conceptpreferredtermyn="Y" ispermutedtermyn="N" lexicaltag="NON" printflagyn="Y" recordpreferredtermyn="Y">
          <termui>T000002</termui>
          <string>Calcimycin</string>
          ...
        </term>
      </termlist>
    </concept>
    <concept preferredconceptyn="N">
      <conceptui>M0353609</conceptui>
      <conceptname>
        <string>A-23187</string>
      </conceptname>
      ...
      <termlist>
        <term conceptpreferredtermyn="Y" ispermutedtermyn="N" lexicaltag="LAB" printflagyn="N" recordpreferredtermyn="N">
          <termui>T000001</termui>
          <string>A-23187</string>
          <datecreated>
            <year>1990</year>
            <month>03</month>
            <day>08</day>
          </datecreated>
          <thesaurusidlist>
            <thesaurusid>NLM (1991)</thesaurusid>
          </thesaurusidlist>
        </term>
        <term conceptpreferredtermyn="N" ispermutedtermyn="Y" lexicaltag="LAB" printflagyn="N" recordpreferredtermyn="N">
          <termui>T000001</termui>
          <string>A 23187</string>
        </term>
        <term conceptpreferredtermyn="N" ispermutedtermyn="N" lexicaltag="NON" printflagyn="N" recordpreferredtermyn="N">
          <termui>T000003</termui>
          <string>Antibiotic A23187</string>
          ...
        </term>
        <term conceptpreferredtermyn="N" ispermutedtermyn="Y" lexicaltag="NON" printflagyn="N" recordpreferredtermyn="N">
          <termui>T000003</termui>
          <string>A23187, Antibiotic</string>
        </term>
        ...
      </termlist>
    </concept>
  </conceptlist>
<p>&lt;/DescriptorRecord&gt;
```</p>

<h2 id="rdf">RDF</h2>

<p>Depicted in these graphs:</p>

<p><img src="https://github.com/HHS/mesh-rdf/blob/master/doc/TermModel-2.png" alt="" /></p>

<p>(This drawing was done in <a href="https://www.lucidchart.com">LucidChart</a>, and is on Google drive <a href="https://drive.google.com/file/d/0B8n-nWqCI5WmYUUydDFNS2d1OU0/edit?usp=sharing">here</a>.)</p>

<p><img src="https://github.com/HHS/mesh-rdf/blob/master/doc/TermModel.png" alt="" /></p>

<p>(This drawing was done in <a href="https://www.lucidchart.com">LucidChart</a>, and is on Google drive <a href="https://drive.google.com/file/d/0B8n-nWqCI5WmSHlXejVJeDBCWWc/edit?usp=sharing">here</a>.)</p>

<p>In turtle format:</p>

<p>```
@prefix rdf:  <a href="http://www.w3.org/1999/02/22-rdf-syntax-ns#">http://www.w3.org/1999/02/22-rdf-syntax-ns#</a> .
@prefix mesh: <a href="http://id.nlm.nih.gov/mesh/">http://id.nlm.nih.gov/mesh/</a> .
@prefix meshv:  <a href="http://id.nlm.nih.gov/mesh/vocab#">http://id.nlm.nih.gov/mesh/vocab#</a> .
@prefix rdfs: <a href="http://www.w3.org/2000/01/rdf-schema#">http://www.w3.org/2000/01/rdf-schema#</a> .
@prefix dcterms:  <a href="http://purl.org/dc/terms/">http://purl.org/dc/terms/</a> .
@prefix xsd:  <a href="http://www.w3.org/2001/XMLSchema#">http://www.w3.org/2001/XMLSchema#</a> .
@prefix skos: <a href="http://www.w3.org/2004/02/skos/core#">http://www.w3.org/2004/02/skos/core#</a> .</p>

<p>mesh:D000001    rdf:type  meshv:TopicalDescriptor ;
                meshv:preferredConcept  mesh:M0000001 ;
                meshv:concept mesh:M0353609 ;
                meshv:preferredTerm mesh:T000002 .</p>

<p>mesh:M0000001   rdf:type  meshv:Concept ;
                meshv:preferredTerm mesh:T000002 .</p>

<p>mesh:M0353609   rdf:type  meshv:Concept ;
                meshv:term  mesh:T000003 ,
                            mesh:T000004 ;
                meshv:preferredTerm mesh:T000001 .</p>

<p>mesh:T000002    rdf:type  meshv:Term .</p>

<p>mesh:T000001    rdf:type  meshv:LabNumber ;
                meshv:lexicalTag  “LAB” ;
                rdfs:label  “A-23187” ;
                skos:prefLabel  “A-23187” ;
                skos:altLabel “A 23187” .
                dcterms:identifier  “T000001” ;
                meshv:dateCreated “1990-03-08”^^xsd:date ;
                meshv:thesaurusID “NLM (1991)” ;
                meshv:printFlag “N” ;</p>

<p>mesh:T000003    rdf:type  meshv:Term ;
                meshv:lexicalTag  “NON” ;
                rdfs:label  “Antibiotic A23187” ;
                skos:prefLabel  “Antibiotic A23187” ;
                skos:altLabel “A23187, Antibiotic” .
…</p>

<p>meshv:LabNumber rdfs:subClassOf meshv:Term .
```</p>

<p>Notes:</p>

<ul>
  <li>
    <p>The <a href="http://www.nlm.nih.gov/mesh/xml_data_elements.html#LexicalTag">LexicalTag` attribute</a>
in the XML representation of a Term is used to determine its class (see <a href="https://github.com/HHS/mesh-rdf/issues/36">issue #36</a>.
Each of these (except the first) is a subclass of meshv:Term:</p>

    <p><code>
  NON   meshv:Term
  ABB   meshv:Abbreviation
  ABX   meshv:EmbeddedAbbreviation
  ACR   meshv:Acronym
  ACX   meshv:EmbeddedAcronym
  EPO   meshv:Eponym
  LAB   meshv:LabNumber
  NAM   meshv:ProperName
  TRD   meshv:TradeName
 </code></p>
  </li>
  <li>
    <p>The <a href="http://www.nlm.nih.gov/mesh/xml_data_elements.html#RecordPreferredTermYN">RecordPreferredTermYN attribute</a> 
in the XML is used to directly connect a record (in this
case, a Descriptor) to its preferred term, using the <code>meshv:preferredTerm</code> property, which is an
<code>rdfs:subPropertyOf</code> <code>meshv:term</code>.</p>
  </li>
  <li>
    <p>The <a href="http://www.nlm.nih.gov/mesh/xml_data_elements.html#IsPermutedTermYN">IsPermutedTermYN
attribute</a> is used to determine the
properties to use for a given label.  If IsPermutedTermYN is “N”, then <code>skos:prefLabel</code> is used.
If it is “Y”, then <code>skos:altLabel</code> is used.  For convenience, the preferred label is also indicated with
the <code>rdfs:label</code> property.</p>
  </li>
</ul>

<h2 id="generating-the-rdf">Generating the RDF</h2>

<p>[Note that the following should be possible using the short <code>CONSTRUCT WHERE</code> form,
as described in <a href="http://www.w3.org/TR/2013/REC-sparql11-query-20130321/#constructWhere">the SPARQL specification</a>, 
but it seems that Virtuoso doesn’t support it.]</p>

<p>```sparql
PREFIX mesh: <a href="http://id.nlm.nih.gov/mesh/">http://id.nlm.nih.gov/mesh/</a>
PREFIX meshv: <a href="http://id.nlm.nih.gov/mesh/vocab#">http://id.nlm.nih.gov/mesh/vocab#</a></p>

<p>construct {
    mesh:D000001 a ?descClass .</p>

<pre><code>mesh:D000001 meshv:preferredConcept ?prefCon .
?prefCon a ?prefConClass .
mesh:D000001 meshv:preferredTerm ?prefTerm .
?prefTerm a ?prefTermClass .
?prefCon meshv:preferredTerm ?prefTerm .

mesh:D000001 meshv:concept ?con .
?con a ?conClass .
?con meshv:preferredTerm ?conPrefTerm .
?conPrefTerm a ?conPrefTermClass .
?conPrefTermClass rdfs:subClassOf ?conPrefTermSuperclass .

?con meshv:term ?conTerm .
?conTerm a ?conTermClass .

?conPrefTerm ?cptp ?cpto .
 
?conTerm ?ctp ?cto . } from &lt;http://chrismaloney.org/mesh&gt; from &lt;http://chrismaloney.org/meshv&gt; where {
mesh:D000001 a ?descClass .

mesh:D000001 meshv:preferredConcept ?prefCon .
?prefCon a ?prefConClass .
mesh:D000001 meshv:preferredTerm ?prefTerm .
?prefTerm a ?prefTermClass .
?prefCon meshv:preferredTerm ?prefTerm .

mesh:D000001 meshv:concept ?con .
?con a ?conClass .
?con meshv:preferredTerm ?conPrefTerm .
?conPrefTerm a ?conPrefTermClass .
?conPrefTermClass rdfs:subClassOf ?conPrefTermSuperclass .

?con meshv:term ?conTerm .
?conTerm a ?conTermClass .

?conPrefTerm ?cptp ?cpto .
 
?conTerm ?ctp ?cto . } ```
</code></pre>

<p>At the time of this writing, you can see the results dynamically from <a href="http://jatspan.org:8890/sparql?query=PREFIX+mesh%3A+%3Chttp%3A%2F%2Fid.nlm.nih.gov%2Fmesh%2F%3E%0D%0APREFIX+meshv%3A+%3Chttp%3A%2F%2Fid.nlm.nih.gov%2Fmesh%2Fvocab%23%3E%0D%0A%0D%0Aconstruct+%7B%0D%0A++++mesh%3AD000001+a+%3FdescClass+.%0D%0A%0D%0A++++mesh%3AD000001+meshv%3ApreferredConcept+%3FprefCon+.%0D%0A++++%3FprefCon+a+%3FprefConClass+.%0D%0A++++mesh%3AD000001+meshv%3ApreferredTerm+%3FprefTerm+.%0D%0A++++%3FprefTerm+a+%3FprefTermClass+.%0D%0A++++%3FprefCon+meshv%3ApreferredTerm+%3FprefTerm+.%0D%0A%0D%0A++++mesh%3AD000001+meshv%3Aconcept+%3Fcon+.%0D%0A++++%3Fcon+a+%3FconClass+.%0D%0A++++%3Fcon+meshv%3ApreferredTerm+%3FconPrefTerm+.%0D%0A++++%3FconPrefTerm+a+%3FconPrefTermClass+.%0D%0A++++%3FconPrefTermClass+rdfs%3AsubClassOf+%3FconPrefTermSuperclass+.%0D%0A%0D%0A++++%3Fcon+meshv%3Aterm+%3FconTerm+.%0D%0A++++%3FconTerm+a+%3FconTermClass+.%0D%0A%0D%0A++++%3FconPrefTerm+%3Fcptp+%3Fcpto+.%0D%0A+%0D%0A++++%3FconTerm+%3Fctp+%3Fcto+.%0D%0A%7D%0D%0Afrom+%3Chttp%3A%2F%2Fchrismaloney.org%2Fmesh%3E%0D%0Afrom+%3Chttp%3A%2F%2Fchrismaloney.org%2Fmeshv%3E%0D%0Awhere+%7B%0D%0A++++mesh%3AD000001+a+%3FdescClass+.%0D%0A%0D%0A++++mesh%3AD000001+meshv%3ApreferredConcept+%3FprefCon+.%0D%0A++++%3FprefCon+a+%3FprefConClass+.%0D%0A++++mesh%3AD000001+meshv%3ApreferredTerm+%3FprefTerm+.%0D%0A++++%3FprefTerm+a+%3FprefTermClass+.%0D%0A++++%3FprefCon+meshv%3ApreferredTerm+%3FprefTerm+.%0D%0A%0D%0A++++mesh%3AD000001+meshv%3Aconcept+%3Fcon+.%0D%0A++++%3Fcon+a+%3FconClass+.%0D%0A++++%3Fcon+meshv%3ApreferredTerm+%3FconPrefTerm+.%0D%0A++++%3FconPrefTerm+a+%3FconPrefTermClass+.%0D%0A++++%3FconPrefTermClass+rdfs%3AsubClassOf+%3FconPrefTermSuperclass+.%0D%0A%0D%0A++++%3Fcon+meshv%3Aterm+%3FconTerm+.%0D%0A++++%3FconTerm+a+%3FconTermClass+.%0D%0A%0D%0A++++%3FconPrefTerm+%3Fcptp+%3Fcpto+.%0D%0A+%0D%0A++++%3FconTerm+%3Fctp+%3Fcto+.%0D%0A%7D&amp;format=TURTLE">this url</a></p>


    </div>
      
    </div>

<!-- footer area   -->
 <div id = "footer">
  Page first published: 01 Nov 2014<br/>
  Page last updated: 16 Oct 2014
</div>
 <!-- //end footer -->
  </body>
</html>